!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("@angular/router"),require("@vendure/admin-ui/core"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@vendure/admin-ui/login",["exports","@angular/core","@angular/router","@vendure/admin-ui/core","rxjs/operators"],n):n(((e="undefined"!=typeof globalThis?globalThis:e||self).vendure=e.vendure||{},e.vendure["admin-ui"]=e.vendure["admin-ui"]||{},e.vendure["admin-ui"].login={}),e.ng.core,e.ng.router,e.vendure["admin-ui"].core,e.rxjs.operators)}(this,(function(e,n,r,t,a){"use strict";var o=function(){function e(e,n){this.authService=e,this.router=n,this.username="",this.password="",this.rememberMe=!1,this.version=t.ADMIN_UI_VERSION,this.brand=t.getAppConfig().brand,this.hideVendureBranding=t.getAppConfig().hideVendureBranding,this.hideVersion=t.getAppConfig().hideVersion}return e.prototype.logIn=function(){var e=this;this.errorMessage=void 0,this.authService.logIn(this.username,this.password,this.rememberMe).subscribe((function(n){switch(n.__typename){case"CurrentUser":var r=e.getRedirectRoute();e.router.navigateByUrl(r||"/");break;case"InvalidCredentialsError":case"NativeAuthStrategyError":e.errorMessage=n.message}}))},e.prototype.getRedirectRoute=function(){var e,n=new RegExp(t.AUTH_REDIRECT_PARAM+"=(.*)");try{var r=window.location.search.match(n);r&&1<r.length&&(e=atob(decodeURIComponent(r[1])))}catch(e){}return e},e}();o.decorators=[{type:n.Component,args:[{selector:"vdr-login",template:'<div class="login-wrapper">\n    <form class="login">\n        <label class="title"><img src="assets/logo-300px.png" /></label>\n        <div class="login-group">\n            <input\n                class="username"\n                type="text"\n                name="username"\n                id="login_username"\n                [(ngModel)]="username"\n                [placeholder]="\'common.username\' | translate"\n            />\n            <input\n                class="password"\n                name="password"\n                type="password"\n                id="login_password"\n                [(ngModel)]="password"\n                [placeholder]="\'common.password\' | translate"\n            />\n            <clr-alert [clrAlertType]="\'danger\'"  [clrAlertClosable]="false" [class.visible]="errorMessage" class="login-error">\n                <clr-alert-item>\n                    <span class="alert-text">\n                        {{ errorMessage }}\n                    </span>\n                </clr-alert-item>\n            </clr-alert>\n            <clr-checkbox-wrapper>\n                <input\n                    type="checkbox"\n                    clrCheckbox\n                    id="rememberme"\n                    name="rememberme"\n                    [(ngModel)]="rememberMe"\n                />\n                <label>{{ \'common.remember-me\' | translate }}</label>\n            </clr-checkbox-wrapper>\n            <button\n                type="submit"\n                class="btn btn-primary"\n                (click)="logIn()"\n                [disabled]="!username || !password"\n            >\n                {{ \'common.login\' | translate }}\n            </button>\n        </div>\n        <div class="version">\n            <span *ngIf="brand">{{ brand }} <span *ngIf="!hideVendureBranding || !hideVersion">-</span></span>\n            <span *ngIf="!hideVendureBranding">vendure</span>\n            <span *ngIf="!hideVersion">v{{ version }}</span>\n        </div>\n    </form>\n</div>\n',styles:[".login-wrapper{background:var(--login-page-bg);background-size:auto;justify-content:center}.title{text-align:center}.version{flex:1;display:flex;align-items:flex-end;justify-content:center;color:var(--color-grey-300)}.version span+span{margin-left:5px}.login-error{max-height:0;overflow:hidden}.login-error.visible{max-height:46px;transition:max-height .2s;-webkit-animation:shake .82s cubic-bezier(.36,.07,.19,.97) both;animation:shake .82s cubic-bezier(.36,.07,.19,.97) both;-webkit-animation-delay:.2s;animation-delay:.2s;transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden;perspective:1000px}@-webkit-keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(2px,0,0)}30%,50%,70%{transform:translate3d(-4px,0,0)}40%,60%{transform:translate3d(4px,0,0)}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(2px,0,0)}30%,50%,70%{transform:translate3d(-4px,0,0)}40%,60%{transform:translate3d(4px,0,0)}}"]}]}],o.ctorParameters=function(){return[{type:t.AuthService},{type:r.Router}]};var i=function(){function e(e,n){this.router=e,this.authService=n}return e.prototype.canActivate=function(e){var n=this;return this.authService.checkAuthenticatedStatus().pipe(a.map((function(e){return e&&n.router.navigate(["/"]),!e})))},e}();i.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new i(n.ɵɵinject(r.Router),n.ɵɵinject(t.AuthService))},token:i,providedIn:"root"}),i.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],i.ctorParameters=function(){return[{type:r.Router},{type:t.AuthService}]};var s=[{path:"",component:o,pathMatch:"full",canActivate:[i]}],l=function(){};l.decorators=[{type:n.NgModule,args:[{imports:[t.SharedModule,r.RouterModule.forChild(s)],exports:[],declarations:[o]}]}],e.LoginComponent=o,e.LoginGuard=i,e.LoginModule=l,e.loginRoutes=s,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=vendure-admin-ui-login.umd.min.js.map