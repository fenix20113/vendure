!function(){function t(e,n,o){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(e,n,o||e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=d(t);if(e){var r=d(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{GDMS:function(n,c,a){"use strict";a.r(c),a.d(c,"PromotionDetailComponent",function(){return _}),a.d(c,"PromotionListComponent",function(){return rt}),a.d(c,"MarketingModule",function(){return st}),a.d(c,"marketingRoutes",function(){return it}),a.d(c,"promotionBreadcrumb",function(){return at}),a.d(c,"PromotionResolver",function(){return ct});var u=a("3Pt+"),l=a("OxKu"),m=a("t9nd"),f=a("IzEk"),p=a("5+tZ"),b=a("fXoL"),v=a("tyNb"),g=a("uEVm"),h=a("iszU"),y=a("W7hW"),P=a("nqNv"),k=a("ofXK"),C=a("1XD6"),O=a("Bzlx"),A=a("tBhK"),Q=a("8MG2"),w=a("7xiD"),D=a("zzDm"),I=a("eBFp"),F=a("IKcI"),j=a("EFLa"),V=a("sYmb"),T=a("V0to"),L=function(){return["enabled"]};function S(t,e){if(1&t&&(b.hc(0,"clr-toggle-wrapper"),b.cc(1,"input",23),b.hc(2,"label"),b.Vc(3),b.sc(4,"translate"),b.gc(),b.gc()),2&t){var n=b.rc();b.Qb(1),b.yc("formControl",n.detailForm.get(b.Bc(4,L))),b.Qb(2),b.Wc(b.tc(4,2,"common.enabled"))}}function U(t,e){if(1&t){var n=b.ic();b.hc(0,"button",24),b.pc("click",function(){return b.Lc(n),b.rc().create()}),b.Vc(1),b.sc(2,"translate"),b.gc()}if(2&t){var o=b.rc();b.yc("disabled",!o.saveButtonEnabled()),b.Qb(1),b.Xc(" ",b.tc(2,2,"common.create")," ")}}function N(t,e){if(1&t){var n=b.ic();b.hc(0,"button",24),b.pc("click",function(){return b.Lc(n),b.rc(2).save()}),b.Vc(1),b.sc(2,"translate"),b.gc()}if(2&t){var o=b.rc(2);b.yc("disabled",!o.saveButtonEnabled()),b.Qb(1),b.Xc(" ",b.tc(2,2,"common.update")," ")}}function B(t,e){1&t&&b.Tc(0,N,3,4,"button",25),2&t&&b.yc("vdrIfPermissions","UpdatePromotion")}function E(t,e){if(1&t){var n=b.ic();b.fc(0),b.hc(1,"vdr-configurable-input",26),b.pc("remove",function(t){return b.Lc(n),b.rc().removeCondition(t)}),b.sc(2,"hasPermission"),b.gc(),b.ec()}if(2&t){var o=e.$implicit,r=e.index,c=b.rc();b.Qb(1),b.yc("readonly",!b.tc(2,4,"UpdatePromotion"))("operation",o)("operationDefinition",c.getConditionDefinition(o))("formControlName",r)}}function $(t,e){if(1&t){var n=b.ic();b.hc(0,"button",31),b.pc("click",function(){b.Lc(n);var t=e.$implicit;return b.rc(2).addCondition(t)}),b.Vc(1),b.gc()}if(2&t){var o=e.$implicit;b.Qb(1),b.Xc(" ",o.description," ")}}function X(t,e){if(1&t&&(b.hc(0,"vdr-dropdown"),b.hc(1,"button",27),b.cc(2,"clr-icon",28),b.Vc(3),b.sc(4,"translate"),b.gc(),b.hc(5,"vdr-dropdown-menu",29),b.Tc(6,$,2,1,"button",30),b.gc(),b.gc()),2&t){var n=b.rc();b.Qb(3),b.Xc(" ",b.tc(4,2,"marketing.add-condition")," "),b.Qb(3),b.yc("ngForOf",n.getAvailableConditions())}}function x(t,e){if(1&t){var n=b.ic();b.hc(0,"vdr-configurable-input",32),b.pc("remove",function(t){return b.Lc(n),b.rc().removeAction(t)}),b.sc(1,"hasPermission"),b.gc()}if(2&t){var o=e.$implicit,r=e.index,c=b.rc();b.yc("operation",o)("readonly",!b.tc(1,4,"UpdatePromotion"))("operationDefinition",c.getActionDefinition(o))("formControlName",r)}}function W(t,e){if(1&t){var n=b.ic();b.hc(0,"button",31),b.pc("click",function(){b.Lc(n);var t=e.$implicit;return b.rc(2).addAction(t)}),b.Vc(1),b.gc()}if(2&t){var o=e.$implicit;b.Qb(1),b.Xc(" ",o.description," ")}}function R(t,e){if(1&t&&(b.hc(0,"vdr-dropdown"),b.hc(1,"button",27),b.cc(2,"clr-icon",28),b.Vc(3),b.sc(4,"translate"),b.gc(),b.hc(5,"vdr-dropdown-menu",29),b.Tc(6,W,2,1,"button",30),b.gc(),b.gc()),2&t){var n=b.rc();b.Qb(3),b.Xc(" ",b.tc(4,2,"marketing.add-action")," "),b.Qb(3),b.yc("ngForOf",n.getAvailableActions())}}var _=function(t){r(c,t);var n=i(c);function c(t,o,r,i,a,s,d){var l;return e(this,c),(l=n.call(this,o,t,r,a)).changeDetector=i,l.dataService=a,l.formBuilder=s,l.notificationService=d,l.conditions=[],l.actions=[],l.allConditions=[],l.allActions=[],l.detailForm=l.formBuilder.group({name:["",u.C.required],enabled:!0,couponCode:null,perCustomerUsageLimit:null,startsAt:null,endsAt:null,conditions:l.formBuilder.array([]),actions:l.formBuilder.array([])}),l}return o(c,[{key:"ngOnInit",value:function(){var t=this;this.init(),this.promotion$=this.entity$,this.dataService.promotion.getPromotionActionsAndConditions().single$.subscribe(function(e){t.allActions=e.promotionActions,t.allConditions=e.promotionConditions,t.changeDetector.markForCheck()})}},{key:"ngOnDestroy",value:function(){this.destroy()}},{key:"getAvailableConditions",value:function(){var t=this;return this.allConditions.filter(function(e){return!t.conditions.find(function(t){return t.code===e.code})})}},{key:"getConditionDefinition",value:function(t){return this.allConditions.find(function(e){return e.code===t.code})}},{key:"getAvailableActions",value:function(){var t=this;return this.allActions.filter(function(e){return!t.actions.find(function(t){return t.code===e.code})})}},{key:"getActionDefinition",value:function(t){return this.allActions.find(function(e){return e.code===t.code})}},{key:"saveButtonEnabled",value:function(){return this.detailForm.dirty&&this.detailForm.valid&&(0!==this.conditions.length||this.detailForm.value.couponCode)&&0!==this.actions.length}},{key:"addCondition",value:function(t){this.addOperation("conditions",t),this.detailForm.markAsDirty()}},{key:"addAction",value:function(t){this.addOperation("actions",t),this.detailForm.markAsDirty()}},{key:"removeCondition",value:function(t){this.removeOperation("conditions",t),this.detailForm.markAsDirty()}},{key:"removeAction",value:function(t){this.removeOperation("actions",t),this.detailForm.markAsDirty()}},{key:"formArrayOf",value:function(t){return this.detailForm.get(t)}},{key:"create",value:function(){var t=this;if(this.detailForm.dirty){var e=this.detailForm.value,n={name:e.name,enabled:!0,couponCode:e.couponCode,perCustomerUsageLimit:e.perCustomerUsageLimit,startsAt:e.startsAt,endsAt:e.endsAt,conditions:this.mapOperationsToInputs(this.conditions,e.conditions),actions:this.mapOperationsToInputs(this.actions,e.actions)};this.dataService.promotion.createPromotion(n).subscribe(function(e){var n=e.createPromotion;switch(n.__typename){case"Promotion":t.notificationService.success(Object(l.a)("common.notify-create-success"),{entity:"Promotion"}),t.detailForm.markAsPristine(),t.changeDetector.markForCheck(),t.router.navigate(["../",n.id],{relativeTo:t.route});break;case"MissingConditionsError":t.notificationService.error(n.message)}},function(e){t.notificationService.error(Object(l.a)("common.notify-create-error"),{entity:"Promotion"})})}}},{key:"save",value:function(){var t=this;if(this.detailForm.dirty){var e=this.detailForm.value;this.promotion$.pipe(Object(f.a)(1),Object(p.a)(function(n){var o={id:n.id,name:e.name,enabled:e.enabled,couponCode:e.couponCode,perCustomerUsageLimit:e.perCustomerUsageLimit,startsAt:e.startsAt,endsAt:e.endsAt,conditions:t.mapOperationsToInputs(t.conditions,e.conditions),actions:t.mapOperationsToInputs(t.actions,e.actions)};return t.dataService.promotion.updatePromotion(o)})).subscribe(function(e){t.notificationService.success(Object(l.a)("common.notify-update-success"),{entity:"Promotion"}),t.detailForm.markAsPristine(),t.changeDetector.markForCheck()},function(e){t.notificationService.error(Object(l.a)("common.notify-update-error"),{entity:"Promotion"})})}}},{key:"setFormValues",value:function(t,e){var n=this;this.detailForm.patchValue({name:t.name,enabled:t.enabled,couponCode:t.couponCode,perCustomerUsageLimit:t.perCustomerUsageLimit,startsAt:t.startsAt,endsAt:t.endsAt}),t.conditions.forEach(function(t){n.addOperation("conditions",t)}),t.actions.forEach(function(t){return n.addOperation("actions",t)})}},{key:"mapOperationsToInputs",value:function(t,e){return t.map(function(t,n){return{code:t.code,arguments:Object.values(e[n].args).map(function(e,n){return{name:t.args[n].name,value:Object(m.R)(e)}})}})}},{key:"addOperation",value:function(t,e){var n=this,o=this.formArrayOf(t),r="conditions"===t?this.conditions:this.actions;if(-1===o.value.findIndex(function(t){return t.code===e.code})){var c=e.args.reduce(function(o,r){var c;return Object.assign(Object.assign({},o),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},r.name,null!==(c=Object(m.V)(r.value))&&void 0!==c?c:n.getDefaultArgValue(t,e,r.name)))},{});o.push(this.formBuilder.control({code:e.code,args:c})),r.push({code:e.code,args:e.args.map(function(t){return{name:t.name,value:Object(m.V)(t.value)}})})}}},{key:"getDefaultArgValue",value:function(t,e,n){var o="conditions"===t?this.allConditions.find(function(t){return t.code===e.code}):this.allActions.find(function(t){return t.code===e.code});if(o){var r=o.args.find(function(t){return t.name===n});if(r)return Object(m.W)(r)}throw new Error('Could not determine default value for "argName"')}},{key:"removeOperation",value:function(t,e){var n=this.formArrayOf(t),o="conditions"===t?this.conditions:this.actions,r=n.value.findIndex(function(t){return t.code===e.code});-1!==r&&(n.removeAt(r),o.splice(r,1))}}]),c}(m.l);_.\u0275fac=function(t){return new(t||_)(b.bc(v.e),b.bc(v.a),b.bc(m.I),b.bc(b.j),b.bc(m.s),b.bc(u.e),b.bc(m.G))},_.\u0275cmp=b.Vb({type:_,selectors:[["vdr-promotion-detail"]],features:[b.Nb],decls:46,vars:43,consts:[[1,"flex","clr-align-items-center"],[3,"entity"],[4,"vdrIfPermissions"],["locationId","promotion-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["for","startsAt",3,"label"],["formControlName","startsAt"],["for","endsAt",3,"label"],["formControlName","endsAt"],["for","couponCode",3,"label"],["id","couponCode","type","text","formControlName","couponCode",3,"readonly"],["for","perCustomerUsageLimit",3,"label"],["id","perCustomerUsageLimit","type","number","min","1","max","999","formControlName","perCustomerUsageLimit",3,"readonly"],[1,"clr-row"],["formArrayName","conditions",1,"clr-col"],[1,"clr-control-label"],[4,"ngFor","ngForOf"],["formArrayName","actions",1,"clr-col"],[3,"operation","readonly","operationDefinition","formControlName","remove",4,"ngFor","ngForOf"],["type","checkbox","clrToggle","","name","enabled",3,"formControl"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"readonly","operation","operationDefinition","formControlName","remove"],["vdrDropdownTrigger","",1,"btn","btn-outline"],["shape","plus"],["vdrPosition","bottom-left"],["type","button","vdrDropdownItem","",3,"click",4,"ngFor","ngForOf"],["type","button","vdrDropdownItem","",3,"click"],[3,"operation","readonly","operationDefinition","formControlName","remove"]],template:function(t,e){if(1&t&&(b.hc(0,"vdr-action-bar"),b.hc(1,"vdr-ab-left"),b.hc(2,"div",0),b.cc(3,"vdr-entity-info",1),b.sc(4,"async"),b.Tc(5,S,5,5,"clr-toggle-wrapper",2),b.gc(),b.gc(),b.hc(6,"vdr-ab-right"),b.cc(7,"vdr-action-bar-items",3),b.Tc(8,U,3,4,"button",4),b.sc(9,"async"),b.Tc(10,B,1,1,"ng-template",null,5,b.Uc),b.gc(),b.gc(),b.hc(12,"form",6),b.hc(13,"vdr-form-field",7),b.sc(14,"translate"),b.cc(15,"input",8),b.sc(16,"hasPermission"),b.gc(),b.hc(17,"vdr-form-field",9),b.sc(18,"translate"),b.cc(19,"vdr-datetime-picker",10),b.gc(),b.hc(20,"vdr-form-field",11),b.sc(21,"translate"),b.cc(22,"vdr-datetime-picker",12),b.gc(),b.hc(23,"vdr-form-field",13),b.sc(24,"translate"),b.cc(25,"input",14),b.sc(26,"hasPermission"),b.gc(),b.hc(27,"vdr-form-field",15),b.sc(28,"translate"),b.cc(29,"input",16),b.sc(30,"hasPermission"),b.gc(),b.hc(31,"div",17),b.hc(32,"div",18),b.hc(33,"label",19),b.Vc(34),b.sc(35,"translate"),b.gc(),b.Tc(36,E,3,6,"ng-container",20),b.hc(37,"div"),b.Tc(38,X,7,4,"vdr-dropdown",2),b.gc(),b.gc(),b.hc(39,"div",21),b.hc(40,"label",19),b.Vc(41),b.sc(42,"translate"),b.gc(),b.Tc(43,x,2,6,"vdr-configurable-input",22),b.hc(44,"div"),b.Tc(45,R,7,4,"vdr-dropdown",2),b.gc(),b.gc(),b.gc(),b.gc()),2&t){var n=b.Ic(11);b.Qb(3),b.yc("entity",b.tc(4,19,e.entity$)),b.Qb(2),b.yc("vdrIfPermissions","UpdatePromotion"),b.Qb(3),b.yc("ngIf",b.tc(9,21,e.isNew$))("ngIfElse",n),b.Qb(4),b.yc("formGroup",e.detailForm),b.Qb(1),b.yc("label",b.tc(14,23,"common.name")),b.Qb(2),b.yc("readonly",!b.tc(16,25,"UpdatePromotion")),b.Qb(2),b.yc("label",b.tc(18,27,"marketing.starts-at")),b.Qb(3),b.yc("label",b.tc(21,29,"marketing.ends-at")),b.Qb(3),b.yc("label",b.tc(24,31,"marketing.coupon-code")),b.Qb(2),b.yc("readonly",!b.tc(26,33,"UpdatePromotion")),b.Qb(2),b.yc("label",b.tc(28,35,"marketing.per-customer-limit")),b.Qb(2),b.yc("readonly",!b.tc(30,37,"UpdatePromotion")),b.Qb(5),b.Wc(b.tc(35,39,"marketing.conditions")),b.Qb(2),b.yc("ngForOf",e.conditions),b.Qb(2),b.yc("vdrIfPermissions","UpdatePromotion"),b.Qb(3),b.Wc(b.tc(42,41,"marketing.actions")),b.Qb(2),b.yc("ngForOf",e.actions),b.Qb(2),b.yc("vdrIfPermissions","UpdatePromotion")}},directives:[g.a,g.b,h.a,y.a,g.c,P.a,k.o,u.E,u.q,u.j,C.a,O.a,u.b,u.p,u.h,A.a,u.v,u.d,Q.u,k.n,Q.k,u.a,Q.i,u.g,w.a,D.a,I.a,Q.o,F.a,j.a],pipes:[k.b,V.d,T.a],styles:[""],changeDetection:0});var G=a("EY2u"),M=a("eIep"),z=a("CotX"),K=a("r2d8"),q=a("ef/U"),J=a("2/wi"),Y=a("HMPB"),Z=function(){return["./create"]};function H(t,e){1&t&&(b.hc(0,"a",3),b.cc(1,"clr-icon",4),b.Vc(2),b.sc(3,"translate"),b.gc()),2&t&&(b.yc("routerLink",b.Bc(4,Z)),b.Qb(2),b.Xc(" ",b.tc(3,2,"marketing.create-new-promotion")," "))}function tt(t,e){if(1&t&&(b.hc(0,"vdr-chip"),b.Vc(1),b.gc()),2&t){var n=b.rc().item;b.Qb(1),b.Xc(" ",n.couponCode," ")}}function et(t,e){1&t&&(b.hc(0,"vdr-chip"),b.Vc(1),b.sc(2,"translate"),b.gc()),2&t&&(b.Qb(1),b.Wc(b.tc(2,1,"common.disabled")))}var nt=function(t){return["./",t]};function ot(t,e){if(1&t){var n=b.ic();b.hc(0,"td",5),b.Vc(1),b.gc(),b.hc(2,"td",5),b.Tc(3,tt,2,1,"vdr-chip",6),b.gc(),b.hc(4,"td",5),b.Vc(5),b.sc(6,"localeDate"),b.gc(),b.hc(7,"td",5),b.Vc(8),b.sc(9,"localeDate"),b.gc(),b.hc(10,"td",7),b.Tc(11,et,3,3,"vdr-chip",6),b.gc(),b.hc(12,"td",8),b.cc(13,"vdr-table-row-action",9),b.sc(14,"translate"),b.gc(),b.hc(15,"td",8),b.hc(16,"vdr-dropdown"),b.hc(17,"button",10),b.Vc(18),b.sc(19,"translate"),b.cc(20,"clr-icon",11),b.gc(),b.hc(21,"vdr-dropdown-menu",12),b.hc(22,"button",13),b.pc("click",function(){b.Lc(n);var t=e.item;return b.rc().deletePromotion(t.id)}),b.sc(23,"hasPermission"),b.cc(24,"clr-icon",14),b.Vc(25),b.sc(26,"translate"),b.gc(),b.gc(),b.gc(),b.gc()}if(2&t){var o=e.item;b.Qb(1),b.Wc(o.name),b.Qb(2),b.yc("ngIf",o.couponCode),b.Qb(2),b.Wc(b.uc(6,10,o.startsAt,"longDate")),b.Qb(3),b.Wc(b.uc(9,13,o.endsAt,"longDate")),b.Qb(3),b.yc("ngIf",!o.enabled),b.Qb(2),b.yc("label",b.tc(14,16,"common.edit"))("linkTo",b.Cc(24,nt,o.id)),b.Qb(5),b.Xc(" ",b.tc(19,18,"common.actions")," "),b.Qb(4),b.yc("disabled",!b.tc(23,20,"DeletePromotion")),b.Qb(3),b.Xc(" ",b.tc(26,22,"common.delete")," ")}}var rt=function(n){r(a,n);var c=i(a);function a(n,o,r,i,u){var l,m;return e(this,a),(m=c.call(this,o,r)).dataService=n,m.notificationService=i,m.modalService=u,t((l=s(m),d(a.prototype)),"setQueryFn",l).call(l,function(){var t;return(t=m.dataService.promotion).getPromotions.apply(t,arguments).refetchOnChannelChange()},function(t){return t.promotions}),m}return o(a,[{key:"deletePromotion",value:function(t){var e=this;this.modalService.dialog({title:Object(l.a)("catalog.confirm-delete-promotion"),buttons:[{type:"secondary",label:Object(l.a)("common.cancel")},{type:"danger",label:Object(l.a)("common.delete"),returnValue:!0}]}).pipe(Object(M.a)(function(n){return n?e.dataService.promotion.deletePromotion(t):G.a})).subscribe(function(){e.notificationService.success(Object(l.a)("common.notify-delete-success"),{entity:"Promotion"}),e.refresh()},function(t){e.notificationService.error(Object(l.a)("common.notify-delete-error"),{entity:"Promotion"})})}}]),a}(m.n);rt.\u0275fac=function(t){return new(t||rt)(b.bc(m.s),b.bc(v.e),b.bc(v.a),b.bc(m.G),b.bc(m.F))},rt.\u0275cmp=b.Vb({type:rt,selectors:[["vdr-promotion-list"]],features:[b.Nb],decls:25,vars:25,consts:[["locationId","promotion-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"items","itemsPerPage","totalItems","currentPage","pageChange","itemsPerPageChange"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"left","align-middle"],[4,"ngIf"],[1,"align-middle"],[1,"right","align-middle"],["iconShape","edit",3,"label","linkTo"],["type","button","vdrDropdownTrigger","",1,"btn","btn-link","btn-sm"],["shape","caret down"],["vdrPosition","bottom-right"],["type","button","vdrDropdownItem","",1,"delete-button",3,"disabled","click"],["shape","trash",1,"is-danger"]],template:function(t,e){1&t&&(b.hc(0,"vdr-action-bar"),b.hc(1,"vdr-ab-right"),b.cc(2,"vdr-action-bar-items",0),b.Tc(3,H,4,5,"a",1),b.gc(),b.gc(),b.hc(4,"vdr-data-table",2),b.pc("pageChange",function(t){return e.setPageNumber(t)})("itemsPerPageChange",function(t){return e.setItemsPerPage(t)}),b.sc(5,"async"),b.sc(6,"async"),b.sc(7,"async"),b.sc(8,"async"),b.hc(9,"vdr-dt-column"),b.Vc(10),b.sc(11,"translate"),b.gc(),b.hc(12,"vdr-dt-column"),b.Vc(13),b.sc(14,"translate"),b.gc(),b.hc(15,"vdr-dt-column"),b.Vc(16),b.sc(17,"translate"),b.gc(),b.hc(18,"vdr-dt-column"),b.Vc(19),b.sc(20,"translate"),b.gc(),b.cc(21,"vdr-dt-column"),b.cc(22,"vdr-dt-column"),b.cc(23,"vdr-dt-column"),b.Tc(24,ot,27,26,"ng-template"),b.gc()),2&t&&(b.Qb(3),b.yc("vdrIfPermissions","CreatePromotion"),b.Qb(1),b.yc("items",b.tc(5,9,e.items$))("itemsPerPage",b.tc(6,11,e.itemsPerPage$))("totalItems",b.tc(7,13,e.totalItems$))("currentPage",b.tc(8,15,e.currentPage$)),b.Qb(6),b.Wc(b.tc(11,17,"common.name")),b.Qb(3),b.Wc(b.tc(14,19,"marketing.coupon-code")),b.Qb(3),b.Wc(b.tc(17,21,"marketing.starts-at")),b.Qb(3),b.Wc(b.tc(20,23,"marketing.ends-at")))},directives:[g.a,g.c,P.a,y.a,z.a,K.a,v.h,Q.o,k.o,q.a,D.a,I.a,F.a,j.a,J.a],pipes:[k.b,V.d,Y.a,T.a],styles:[""],changeDetection:0});var ct=function(t){r(o,t);var n=i(o);function o(t,r){return e(this,o),n.call(this,t,{__typename:"Promotion",id:"",createdAt:"",updatedAt:"",name:"",enabled:!1,conditions:[],actions:[]},function(t){return r.promotion.getPromotion(t).mapStream(function(t){return t.promotion})})}return o}(m.m);ct.\u0275fac=function(t){return new(t||ct)(b.lc(v.e),b.lc(m.s))},ct.\u0275prov=b.Xb({token:ct,factory:ct.\u0275fac,providedIn:"root"});var it=[{path:"promotions",component:rt,data:{breadcrumb:Object(l.a)("breadcrumb.promotions")}},{path:"promotions/:id",component:_,resolve:Object(m.O)(ct),canDeactivate:[m.o],data:{breadcrumb:at}}];function at(t,e){return Object(m.Q)({entity:t.entity,id:e.id,breadcrumbKey:"breadcrumb.promotions",getName:function(t){return t.name},route:"promotions"})}var st=function t(){e(this,t)};st.\u0275fac=function(t){return new(t||st)},st.\u0275mod=b.Zb({type:st}),st.\u0275inj=b.Yb({imports:[[m.J,v.i.forChild(it)]]})}}])}();
//# sourceMappingURL=10-es5.fc9259c8cde6053a035d.js.map